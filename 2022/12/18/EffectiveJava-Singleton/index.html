<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5" />
    <meta name="description" content="Two ways of Implement Singleton using Private Constructor and their drwabacksMethod A: Simply make a static field to hold the instance, initiating it when the class is loaded12345public class StaticFi">
<meta property="og:type" content="article">
<meta property="og:title" content="EffectiveJava-Singleton Using Enum">
<meta property="og:url" content="https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/index.html">
<meta property="og:site_name" content="Shain&#39;s Blogs">
<meta property="og:description" content="Two ways of Implement Singleton using Private Constructor and their drwabacksMethod A: Simply make a static field to hold the instance, initiating it when the class is loaded12345public class StaticFi">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2022-12-18T01:27:07.000Z">
<meta property="article:modified_time" content="2022-12-18T11:31:52.541Z">
<meta property="article:author" content="Shain">
<meta property="article:tag" content="Singleton">
<meta name="twitter:card" content="summary">
    
    
      
        
          <link rel="shortcut icon" href="/images/favicon.ico">
        
      
      
        
          <link rel="icon" type="image/png" href="/images/favicon-192x192.png" sizes="192x192">
        
      
      
        
          <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
        
      
    
    <!-- title -->
    <title>EffectiveJava-Singleton Using Enum</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- persian styles -->
    
    <!-- rss -->
    
    
	<!-- mathjax -->
	
<meta name="generator" content="Hexo 5.4.0"></head>

<body class="max-width mx-auto px3 ltr">
    
      <div id="header-post">
  <a id="menu-icon" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="menu-icon-tablet" href="#" aria-label="Menu"><i class="fas fa-bars fa-lg"></i></a>
  <a id="top-icon-tablet" href="#" aria-label="Top" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');" style="display:none;"><i class="fas fa-chevron-up fa-lg"></i></a>
  <span id="menu">
    <span id="nav">
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/project/">Projects</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     -->
      </ul>
    </span>
    <br/>
    <span id="actions">
      <ul>
        
        <li><a class="icon" aria-label="Previous post" href="/2023/05/27/%E7%AE%97%E6%B3%95%EF%BC%9A-%E5%8C%BA%E9%97%B4%E8%BF%90%E7%AE%97/"><i class="fas fa-chevron-left" aria-hidden="true" onmouseover="$('#i-prev').toggle();" onmouseout="$('#i-prev').toggle();"></i></a></li>
        
        
        <li><a class="icon" aria-label="Next post" href="/2022/12/17/EffectiveJava-staticBuilder/"><i class="fas fa-chevron-right" aria-hidden="true" onmouseover="$('#i-next').toggle();" onmouseout="$('#i-next').toggle();"></i></a></li>
        
        <li><a class="icon" aria-label="Back to top" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up" aria-hidden="true" onmouseover="$('#i-top').toggle();" onmouseout="$('#i-top').toggle();"></i></a></li>
        <li><a class="icon" aria-label="Share post" href="#"><i class="fas fa-share-alt" aria-hidden="true" onmouseover="$('#i-share').toggle();" onmouseout="$('#i-share').toggle();" onclick="$('#share').toggle();return false;"></i></a></li>
      </ul>
      <span id="i-prev" class="info" style="display:none;">Previous post</span>
      <span id="i-next" class="info" style="display:none;">Next post</span>
      <span id="i-top" class="info" style="display:none;">Back to top</span>
      <span id="i-share" class="info" style="display:none;">Share post</span>
    </span>
    <br/>
    <div id="share" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/"><i class="fab fa-facebook " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&text=EffectiveJava-Singleton Using Enum"><i class="fab fa-twitter " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&title=EffectiveJava-Singleton Using Enum"><i class="fab fa-linkedin " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&is_video=false&description=EffectiveJava-Singleton Using Enum"><i class="fab fa-pinterest " aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=EffectiveJava-Singleton Using Enum&body=Check out this article: https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/"><i class="fas fa-envelope " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&title=EffectiveJava-Singleton Using Enum"><i class="fab fa-get-pocket " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&title=EffectiveJava-Singleton Using Enum"><i class="fab fa-reddit " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&title=EffectiveJava-Singleton Using Enum"><i class="fab fa-stumbleupon " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&title=EffectiveJava-Singleton Using Enum"><i class="fab fa-digg " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&name=EffectiveJava-Singleton Using Enum&description="><i class="fab fa-tumblr " aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&t=EffectiveJava-Singleton Using Enum"><i class="fab fa-hacker-news " aria-hidden="true"></i></a></li>
</ul>

    </div>
    <div id="toc">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Two-ways-of-Implement-Singleton-using-Private-Constructor-and-their-drwabacks"><span class="toc-number">1.</span> <span class="toc-text">Two ways of Implement Singleton using Private Constructor and their drwabacks</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Method-A-Simply-make-a-static-field-to-hold-the-instance-initiating-it-when-the-class-is-loaded"><span class="toc-number">1.0.1.</span> <span class="toc-text">Method A: Simply make a static field to hold the instance, initiating it when the class is loaded</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Method-B-Static-Factory-Method"><span class="toc-number">1.0.2.</span> <span class="toc-text">Method B: Static Factory Method</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DrawBack"><span class="toc-number">1.0.3.</span> <span class="toc-text">DrawBack</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-Enum-to-implement-Singleton"><span class="toc-number">2.</span> <span class="toc-text">Using Enum to implement Singleton</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#How-to-use"><span class="toc-number">2.0.1.</span> <span class="toc-text">How to use</span></a></li></ol></li></ol></li></ol>
    </div>
  </span>
</div>

    
    <div class="content index py4">
        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <header>
    
    <h1 class="posttitle" itemprop="name headline">
        EffectiveJava-Singleton Using Enum
    </h1>



    <div class="meta">
      <span class="author" itemprop="author" itemscope itemtype="http://schema.org/Person">
        <span itemprop="name">Shain</span>
      </span>
      
    <div class="postdate">
      
        <time datetime="2022-12-18T01:27:07.000Z" itemprop="datePublished">2022-12-18</time>
        
      
    </div>


      
    <div class="article-category">
        <i class="fas fa-archive"></i>
        <a class="category-link" href="/categories/Reading/">Reading</a> â€º <a class="category-link" href="/categories/Reading/Effective-Java/">Effective Java</a>
    </div>


      
    <div class="article-tag">
        <i class="fas fa-tag"></i>
        <a class="tag-link-link" href="/tags/Singleton/" rel="tag">Singleton</a>
    </div>


    </div>
  </header>
  

  <div class="content" itemprop="articleBody">
    <h2 id="Two-ways-of-Implement-Singleton-using-Private-Constructor-and-their-drwabacks"><a href="#Two-ways-of-Implement-Singleton-using-Private-Constructor-and-their-drwabacks" class="headerlink" title="Two ways of Implement Singleton using Private Constructor and their drwabacks"></a>Two ways of Implement Singleton using Private Constructor and their drwabacks</h2><h4 id="Method-A-Simply-make-a-static-field-to-hold-the-instance-initiating-it-when-the-class-is-loaded"><a href="#Method-A-Simply-make-a-static-field-to-hold-the-instance-initiating-it-when-the-class-is-loaded" class="headerlink" title="Method A: Simply make a static field to hold the instance, initiating it when the class is loaded"></a>Method A: Simply make a static field to hold the instance, initiating it when the class is loaded</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticFieldSingleton</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> StaticFieldSingleton SINGLETON_INSTANCE = <span class="keyword">new</span> StaticFieldSingleton();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StaticFieldSingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Method-B-Static-Factory-Method"><a href="#Method-B-Static-Factory-Method" class="headerlink" title="Method B: Static Factory Method"></a>Method B: Static Factory Method</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> StaticFactorySingleton SINGLETON;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="title">StaticFactorySingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// If not using Lazy mode, just simple initiate the field when the class is loaded, and make it as final.</span></span><br><span class="line"><span class="comment">// one draw back of using lazy mode is that the static field cannot be final, which makes a drawback that</span></span><br><span class="line"><span class="comment">// attackers can use reflection to change the SINGLETON field to null, in that case, you would not be able to</span></span><br><span class="line"><span class="comment">// prevent creating multiple instances by checking if the SINGELTON is null before creating it.</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> StaticFactorySingleton <span class="title">getInstanceLazyMode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> SINGLETON == <span class="keyword">null</span>? <span class="keyword">new</span> StaticFactorySingleton(): SINGLETON;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="DrawBack"><a href="#DrawBack" class="headerlink" title="DrawBack"></a>DrawBack</h4><p><em><strong>When doing serialization the singleton breaks.</strong></em></p>
<p>Since when the class wants to do the serialization, it would have to inherent Serialization interface, then,  the deserialization process would create a new object, no matter the constructor is private or public, since the constructor is called by the class itself.</p>
<p>To sovle it, can add a readSolve() method, so that the code would look like this:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticFactorySingleton</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> StaticFactorySingleton SINGLETON;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StaticFactorySingleton</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If not using Lazy mode, just simple initiate the field when the class is loaded, and make it as final.</span></span><br><span class="line">    <span class="comment">// one draw back of using lazy mode is that the static field cannot be final, which makes a drawback that</span></span><br><span class="line">    <span class="comment">// attackers can use reflection to change the SINGLETON field to null, in that case, you would not be able to</span></span><br><span class="line">    <span class="comment">// prevent creating multiple instances by checking if the SINGELTON is null before creating it.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> StaticFactorySingleton <span class="title">getInstanceLazyMode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SINGLETON == <span class="keyword">null</span>? <span class="keyword">new</span> StaticFactorySingleton(): SINGLETON;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Serial</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">readResolve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SINGLETON;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><em><strong>Using using reflection the singleton breaks.</strong></em></p>
<p>When doing the reflection, you can create the instance no matter the constructor is private or public. So to prevent this, within the scope of not using Enum, you can probably:</p>
<ol>
<li><p>Check if the instance is created every time when the constructor is called, like this:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">StaticFactorySingleton</span> <span class="keyword">implements</span> <span class="title">Serializable</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> StaticFactorySingleton SINGLETON;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">StaticFactorySingleton</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (SINGLETON != <span class="keyword">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalCallerException(<span class="string">&quot;Instance already initiated&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// If not using Lazy mode, just simple initiate the field when the class is loaded, and make it as final.</span></span><br><span class="line">    <span class="comment">// one draw back of using lazy mode is that the static field cannot be final, which makes a drawback that</span></span><br><span class="line">    <span class="comment">// attackers can use reflection to change the SINGLETON field to null, in that case, you would not be able to</span></span><br><span class="line">    <span class="comment">// prevent creating multiple instances by checking if the SINGELTON is null before creating it.</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> StaticFactorySingleton <span class="title">getInstanceLazyMode</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SINGLETON == <span class="keyword">null</span>? <span class="keyword">new</span> StaticFactorySingleton(): SINGLETON;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Serial</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> Object <span class="title">readResolve</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> SINGLETON;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>However, above code still has problem, what if the hacker use reflection to modify the <code>SINGLETON</code> from non-null to null value?</p>
<p>In this case, we can specify <code>SINGLETON</code> as final, so that the reflection wonâ€™t be able to change it value. However, this gives another drawback that you wonâ€™t be able to use <code>static factory method</code> to achieve the singleton.</p>
</li>
</ol>
<h2 id="Using-Enum-to-implement-Singleton"><a href="#Using-Enum-to-implement-Singleton" class="headerlink" title="Using Enum to implement Singleton"></a>Using Enum to implement Singleton</h2><p>Enum in Java is natually inherent Serializable, which means it wonâ€™t need to explicitly implement the Serialiable Interface, and there is no problem of breaking the singleton when doing serialization.</p>
<p>Secondly, Enumâ€™s instance would only be initiated only once and users can not touch it since <code>**JVM handles the creation and invocation of enum constructors internally**</code>. </p>
<p>Thus, all the above problems sovled.</p>
<h4 id="How-to-use"><a href="#How-to-use" class="headerlink" title="How to use"></a>How to use</h4><p>Just create a Enum like a normal class, then get the instance like below.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">enum</span> <span class="title">SingletonEnum</span> </span>&#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">int</span> val;</span><br><span class="line"></span><br><span class="line">    SingletonEnum() &#123;</span><br><span class="line">        val = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">printVal</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(val);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// add any public/private methods you want.</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">TestEnumSingleton</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        SingletonEnum singleton = SingletonEnum.INSTANCE;</span><br><span class="line">        singleton.printVal();</span><br><span class="line">        singleton.val = <span class="number">9</span>;</span><br><span class="line">        singleton.printVal();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

  </div>
</article>



        
          <div id="footer-post-container">
  <div id="footer-post">

    <div id="nav-footer" style="display: none">
      <ul>
         
          <li><a href="/">Home</a></li>
         
          <li><a href="/archives/">Writing</a></li>
         
          <li><a href="/project/">Projects</a></li>
         
          <li><a href="/tags/">Tag</a></li>
         
          <li><a href="/categories/">Category</a></li>
         
          <li><a href="/search/">Search</a></li>
        
      </ul>
    </div>

    <div id="toc-footer" style="display: none">
      <ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Two-ways-of-Implement-Singleton-using-Private-Constructor-and-their-drwabacks"><span class="toc-number">1.</span> <span class="toc-text">Two ways of Implement Singleton using Private Constructor and their drwabacks</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Method-A-Simply-make-a-static-field-to-hold-the-instance-initiating-it-when-the-class-is-loaded"><span class="toc-number">1.0.1.</span> <span class="toc-text">Method A: Simply make a static field to hold the instance, initiating it when the class is loaded</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Method-B-Static-Factory-Method"><span class="toc-number">1.0.2.</span> <span class="toc-text">Method B: Static Factory Method</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DrawBack"><span class="toc-number">1.0.3.</span> <span class="toc-text">DrawBack</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Using-Enum-to-implement-Singleton"><span class="toc-number">2.</span> <span class="toc-text">Using Enum to implement Singleton</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#How-to-use"><span class="toc-number">2.0.1.</span> <span class="toc-text">How to use</span></a></li></ol></li></ol></li></ol>
    </div>

    <div id="share-footer" style="display: none">
      <ul>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.facebook.com/sharer.php?u=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/"><i class="fab fa-facebook fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://twitter.com/share?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&text=EffectiveJava-Singleton Using Enum"><i class="fab fa-twitter fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.linkedin.com/shareArticle?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&title=EffectiveJava-Singleton Using Enum"><i class="fab fa-linkedin fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://pinterest.com/pin/create/bookmarklet/?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&is_video=false&description=EffectiveJava-Singleton Using Enum"><i class="fab fa-pinterest fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" href="mailto:?subject=EffectiveJava-Singleton Using Enum&body=Check out this article: https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/"><i class="fas fa-envelope fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://getpocket.com/save?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&title=EffectiveJava-Singleton Using Enum"><i class="fab fa-get-pocket fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://reddit.com/submit?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&title=EffectiveJava-Singleton Using Enum"><i class="fab fa-reddit fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.stumbleupon.com/submit?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&title=EffectiveJava-Singleton Using Enum"><i class="fab fa-stumbleupon fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://digg.com/submit?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&title=EffectiveJava-Singleton Using Enum"><i class="fab fa-digg fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="http://www.tumblr.com/share/link?url=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&name=EffectiveJava-Singleton Using Enum&description="><i class="fab fa-tumblr fa-lg" aria-hidden="true"></i></a></li>
  <li><a class="icon" target="_blank" rel="noopener" href="https://news.ycombinator.com/submitlink?u=https://shain001.github.io/2022/12/18/EffectiveJava-Singleton/&t=EffectiveJava-Singleton Using Enum"><i class="fab fa-hacker-news fa-lg" aria-hidden="true"></i></a></li>
</ul>

    </div>

    <div id="actions-footer">
        <a id="menu" class="icon" href="#" onclick="$('#nav-footer').toggle();return false;"><i class="fas fa-bars fa-lg" aria-hidden="true"></i> Menu</a>
        <a id="toc" class="icon" href="#" onclick="$('#toc-footer').toggle();return false;"><i class="fas fa-list fa-lg" aria-hidden="true"></i> TOC</a>
        <a id="share" class="icon" href="#" onclick="$('#share-footer').toggle();return false;"><i class="fas fa-share-alt fa-lg" aria-hidden="true"></i> Share</a>
        <a id="top" style="display:none" class="icon" href="#" onclick="$('html, body').animate({ scrollTop: 0 }, 'fast');"><i class="fas fa-chevron-up fa-lg" aria-hidden="true"></i> Top</a>
    </div>

  </div>
</div>

        
        <footer id="footer">
  <div class="footer-left">
    Copyright &copy;
    
    
    2021-2023
    Shain
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        <!--
       --><li><a href="/">Home</a></li><!--
     --><!--
       --><li><a href="/archives/">Writing</a></li><!--
     --><!--
       --><li><a href="/project/">Projects</a></li><!--
     --><!--
       --><li><a href="/tags/">Tag</a></li><!--
     --><!--
       --><li><a href="/categories/">Category</a></li><!--
     --><!--
       --><li><a href="/search/">Search</a></li><!--
     -->
      </ul>
    </nav>
  </div>
</footer>

    </div>
    <!-- styles -->



  <link rel="preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.2/css/all.min.css" crossorigin="anonymous" onload="this.onload=null;this.rel='stylesheet'"/>


    <!-- jquery -->
 
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" crossorigin="anonymous"></script> 




<!-- clipboard -->

  
    <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.7/clipboard.min.js" crossorigin="anonymous"></script> 
  
  <script type="text/javascript">
  $(function() {
    // copy-btn HTML
    var btn = "<span class=\"btn-copy tooltipped tooltipped-sw\" aria-label=\"Copy to clipboard!\">";
    btn += '<i class="far fa-clone"></i>';
    btn += '</span>'; 
    // mount it!
    $(".highlight table").before(btn);
    var clip = new ClipboardJS('.btn-copy', {
      text: function(trigger) {
        return Array.from(trigger.nextElementSibling.querySelectorAll('.code')).reduce((str,it)=>str+it.innerText+'\n','')
      }
    });
    clip.on('success', function(e) {
      e.trigger.setAttribute('aria-label', "Copied!");
      e.clearSelection();
    })
  })
  </script>


<script src="/js/main.js"></script>

<!-- search -->

<!-- Google Analytics -->

<!-- Baidu Analytics -->

<!-- Cloudflare Analytics -->

<!-- Umami Analytics -->

<!-- Disqus Comments -->

<!-- utterances Comments -->

</body>
</html>
